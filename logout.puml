@startuml
mainframe "**sd** Logout"
hide footbox

actor "**: User**" as User
boundary "**: MainPage**" as MainPage
control "**: LogoutController**" as LogoutController
entity  "**: Session**" as Session

' User starts logout
User -> MainPage : clickLogout()
activate MainPage

' UI shows confirmation dialog
MainPage -> MainPage : displayConfirmationDialog()
activate MainPage
deactivate MainPage

alt User cancels
    User -> MainPage : cancelLogout()
    activate MainPage
    MainPage -> MainPage : closeDialog()
    deactivate MainPage

else User confirms
    User -> MainPage : confirmLogout()
    activate MainPage

    ' Page asks controller to process logout
    MainPage -> LogoutController : processLogout(sessionId)
    deactivate MainPage
    activate LogoutController

    ' Controller deletes session
    LogoutController -> Session : deleteSession(sessionId)
    activate Session
    Session --> LogoutController : deleteStatus(success)
    deactivate Session

    ' Controller reports back to page
    LogoutController --> MainPage : logoutSuccess()
    deactivate LogoutController
    activate MainPage

    ' Page redirects user to login
    MainPage -> MainPage : redirectToLogin()
    deactivate MainPage
end
@enduml
