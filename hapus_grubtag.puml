@startuml
mainframe **sd** HapusTagGroup
hide footbox

actor "**: User**" as User
boundary "**: TagGroupPage**" as TagGroupPage
control "**: TagGroupController**" as TagGroupController
entity  "**: TagGroup**" as TagGroupRepository

User -> TagGroupPage : clickDelete(tagGroupID)
activate TagGroupPage

TagGroupPage -> TagGroupPage : showConfirmationDialog()
activate TagGroupPage
deactivate TagGroupPage

alt user cancels
    User -> TagGroupPage : cancelDelete()
    TagGroupPage -> TagGroupPage : closeDialog()
    activate TagGroupPage
    deactivate TagGroupPage
else user confirms
    User -> TagGroupPage : confirmDelete(tagGroupID)

    TagGroupPage -> TagGroupController : deleteTagGroup(tagGroupID)
    activate TagGroupController

    TagGroupController -> TagGroupRepository : deleteById(tagGroupID)
    activate TagGroupRepository
    TagGroupRepository --> TagGroupController : deleteStatus
    deactivate TagGroupRepository

    TagGroupController --> TagGroupPage : deleteStatus
    deactivate TagGroupController

    alt delete failed
        TagGroupPage -> TagGroupPage : displayError("Failed to delete tag group")
        activate TagGroupPage
        deactivate TagGroupPage
    else delete succeeded
        TagGroupPage -> TagGroupPage : reloadList()
        activate TagGroupPage
        deactivate TagGroupPage 
    end
    deactivate TagGroupPage
end
@enduml
